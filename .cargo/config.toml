[target.thumbv6m-none-eabi]
runner = "elf2uf2-rs -d"
rustflags = [
  "-C", "link-arg=-Tlink.x",
  "-C", "link-arg=--nmagic",
]

# Only set embedded target for the binary, not for tests
# Tests should run on host with std support

[alias]
run-embedded = "run --target thumbv6m-none-eabi --features embedded --no-default-features"
build-embedded = "build --target thumbv6m-none-eabi --features embedded --no-default-features"

[env]
DEFMT_LOG = "debug"
